# ุฏููู ุฏุนู JSON ุงููุชูุฏู

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ุฏุนู ููู ูุดุงูู ููููุงุช JSON ูู ุงููุดุฑูุนุ ูุชุถูู ููุชุจุฉ ูุนุงูุฌุฉ ูุชูุฏูุฉุ ููููุงุช React ุชูุงุนููุฉุ ูุฃุฏูุงุช ููุจ ูุงููุฉ.

## ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. ููุชุจุฉ JsonProcessor

ููุชุจุฉ TypeScript ูููุฉ ุชููุฑ ุฃูุซุฑ ูู 20 ูุธููุฉ ููุนุงูุฌุฉ JSON:

#### ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ:
- **deepClone**: ูุณุฎ ุนููู ูููุงุฆูุงุช
- **deepMerge**: ุฏูุฌ ูุชุนุฏุฏ ุงููุณุชููุงุช
- **getByPath / setByPath / deleteByPath**: ุนูููุงุช ุงููุณุงุฑ
- **flatten / unflatten**: ุชุญููู ุงูุจููุฉ

#### ุงูุชุญููู ูุงูุฅุญุตุงุฆูุงุช:
- **calculateStats**: ุฅุญุตุงุฆูุงุช ุดุงููุฉ (ุงูุญุฌูุ ุงูุนููุ ุงูุฃููุงุน)
- **extractKeys**: ุงุณุชุฎุฑุงุฌ ุฌููุน ุงูููุงุชูุญ
- **search**: ุจุญุซ ูุชูุฏู ูู ุงูููุงุชูุญ ูุงูููู

#### ุงูููุงุฑูุฉ ูุงูุชุญูู:
- **compare**: ููุงุฑูุฉ ุดุงููุฉ ุจูู ูุงุฆููู
- **validate**: ุงูุชุญูู ูู ุงููุฎุทุท
- **sortKeys**: ุชุฑุชูุจ ุงูููุงุชูุญ

#### ุงูุชุญููู:
- **transform**: ุชุญููู ูุฎุตุต
- **removeNullish**: ุฅุฒุงูุฉ ุงูููู ุงููุงุฑุบุฉ
- **compress / prettyPrint**: ุชูุณูู

### 2. ููููุงุช React

#### JsonViewer
ุนุงุฑุถ ุชูุงุนูู ูุน:
- ุทู ููุชุญ ุงูุนูุฏ
- ูุณุฎ ุงูููู
- ุชูููู ุญุณุจ ุงูููุน
- ุฏุนู ุงููุตูููุงุช ูุงููุงุฆูุงุช

```tsx
<JsonViewer 
    data={myData} 
    name="root" 
    collapsed={false}
    theme="dark"
/>
```

#### JsonEditor
ูุญุฑุฑ ุชูุงุนูู ูุน:
- ุชุนุฏูู ุงูููู ูุจุงุดุฑุฉ
- ุฅุถุงูุฉ ูุญุฐู ุงูุนูุงุตุฑ
- ุญูุธ ูุฅูุบุงุก ุงูุชุบููุฑุงุช
- ูุถุน ุงููุฑุงุกุฉ ููุท

```tsx
<JsonEditor 
    initialData={myData}
    onChange={(newData) => handleChange(newData)}
    readOnly={false}
/>
```

#### JsonDiff
ููุงุฑูุฉ ุจุตุฑูุฉ ูุน:
- ุนุฑุถ ุงููุฑููุงุช ุจุงูุฃููุงู
- ุชุตููู ุงูุชุบููุฑุงุช (ุฅุถุงูุฉุ ุญุฐูุ ุชุนุฏูู)
- ุนุฑุถ ุงููุณุงุฑุงุช ุงููุชุฃุซุฑุฉ

```tsx
<JsonDiff 
    json1={jsonString1}
    json2={jsonString2}
    title1="ุงูุฃุตูู"
    title2="ุงููุนุฏู"
/>
```

### 3. ุตูุญุงุช ุงูููุจ

#### ุตูุญุฉ JSON Tool (`/json-tool`)

ุฃุฏุงุฉ ุดุงููุฉ ุชุชุถูู:

**ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ:**
- ุชูุณูู (Format)
- ุถุบุท (Minify)
- ุงูุชุญูู (Validate)
- ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช

**ุงูุจุญุซ ูุงูุชุตููุฉ:**
- ุจุญุซ ูู ุงูููุงุชูุญ ูุงูููู
- ุชุตููุฉ ุญุณุจ ุงููุณุงุฑ
- ุงุณุชุฎุฑุงุฌ ุงูููุงุชูุญ

**ุงูุนูููุงุช ุงููุชูุฏูุฉ:**
- ุชุฑุชูุจ ุงูููุงุชูุญ
- ุชุณุทูุญ ุงูุจููุฉ
- ุงูุชุญููู ูู/ุฅูู CSV
- ุฑูุน ุงููููุงุช

**ุงูููุฒุงุช:**
- ูุงุฌูุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ
- ุฏุนู ุงูุณุญุจ ูุงูุฅููุงุช
- ูุณุฎ ูุชุญููู ุงููุชุงุฆุฌ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

#### ุตูุญุฉ JSON Compare (`/json-compare`)

ุฃุฏุงุฉ ููุงุฑูุฉ ูุชูุฏูุฉ:

**ุงูููุฒุงุช:**
- ููุงุฑูุฉ ุฌูุจุงู ุฅูู ุฌูุจ
- ุนุฑุถ ุงููุฑููุงุช ุจุงูุฃููุงู
- ุชุจุฏูู ุงููููุงุช
- ุชุตุฏูุฑ ุงููุชุงุฆุฌ

**ุฃููุงุน ุงููุฑููุงุช:**
- ๐ข ุฅุถุงูุฉ (Added)
- ๐ด ุญุฐู (Removed)
- ๐ก ุชุนุฏูู (Modified)

## ุงูุจููุฉ ุงูุชูุธูููุฉ

```
packages/webapp/src/
โโโ lib/json/
โ   โโโ JsonProcessor.ts          # ุงูููุชุจุฉ ุงูุฑุฆูุณูุฉ
โ   โโโ JsonProcessor.test.ts     # ุงูุงุฎุชุจุงุฑุงุช
โ   โโโ index.ts                  # ุงูุชุตุฏูุฑ
โ   โโโ README.md                 # ุงูุชูุซูู
โ
โโโ components/json/
โ   โโโ JsonViewer.tsx            # ุนุงุฑุถ JSON
โ   โโโ JsonEditor.tsx            # ูุญุฑุฑ JSON
โ   โโโ JsonDiff.tsx              # ููุงุฑูุฉ JSON
โ   โโโ index.ts                  # ุงูุชุตุฏูุฑ
โ
โโโ pages/
    โโโ json-tool/
    โ   โโโ index.tsx             # ุฃุฏุงุฉ JSON ุงูุฑุฆูุณูุฉ
    โโโ json-compare/
        โโโ index.tsx             # ุฃุฏุงุฉ ุงูููุงุฑูุฉ
```

## ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ูุนุงูุฌุฉ ุจูุงูุงุช ูุชุฏุงุฎูุฉ

```typescript
import { JsonProcessor } from '@/lib/json/JsonProcessor';

const data = {
    students: [
        { name: 'ุฃุญูุฏ', grades: { math: 95, science: 88 } },
        { name: 'ุณุงุฑุฉ', grades: { math: 92, science: 94 } }
    ]
};

// ุงุณุชุฎุฑุงุฌ ุฌููุน ุงูููุงุชูุญ
const keys = JsonProcessor.extractKeys(data);
// ['students', 'students.name', 'students.grades', ...]

// ุงูุจุญุซ ุนู ุทุงูุจ
const results = JsonProcessor.search(data, 'ุฃุญูุฏ');

// ุงูุญุตูู ุนูู ุฏุฑุฌุฉ ูุญุฏุฏุฉ
const mathGrade = JsonProcessor.getByPath(data, 'students.0.grades.math');
```

### ูุซุงู 2: ุฏูุฌ ุฅุนุฏุงุฏุงุช

```typescript
const defaultSettings = {
    theme: 'light',
    language: 'ar',
    notifications: {
        email: true,
        sms: false
    }
};

const userSettings = {
    theme: 'dark',
    notifications: {
        sms: true
    }
};

const finalSettings = JsonProcessor.deepMerge(defaultSettings, userSettings);
// Result: { theme: 'dark', language: 'ar', notifications: { email: true, sms: true } }
```

### ูุซุงู 3: ุชุญููู ุงูุจูุงูุงุช

```typescript
const apiResponse = { /* ุจูุงูุงุช ูุจูุฑุฉ */ };

const stats = JsonProcessor.calculateStats(apiResponse);
console.log(`ุงูุญุฌู: ${stats.size} ุจุงูุช`);
console.log(`ุงูุนูู: ${stats.depth} ูุณุชููุงุช`);
console.log(`ุนุฏุฏ ุงูููุงุชูุญ: ${stats.keys}`);
console.log(`ุนุฏุฏ ุงููุตูููุงุช: ${stats.arrays}`);
```

### ูุซุงู 4: ููุงุฑูุฉ ุงูุฅุตุฏุงุฑุงุช

```typescript
const version1 = { /* ุฅุตุฏุงุฑ ูุฏูู */ };
const version2 = { /* ุฅุตุฏุงุฑ ุฌุฏูุฏ */ };

const comparison = JsonProcessor.compare(version1, version2);

if (!comparison.equal) {
    comparison.differences.forEach(diff => {
        console.log(`${diff.type} ูู ${diff.path}`);
    });
}
```

## ุงูุฃุฏุงุก ูุงูููุงุกุฉ

### ุงูุชุญุณููุงุช:
- ูุนุงูุฌุฉ ุณุฑูุนุฉ ูููููุงุช ุงููุจูุฑุฉ (ุญุชู 10MB)
- ุงุณุชุฎุฏุงู ูุนุงู ููุฐุงูุฑุฉ
- ุชุฎุฒูู ูุคูุช ูููุชุงุฆุฌ
- ูุนุงูุฌุฉ ูุชุฒุงููุฉ

### ุฃูุถู ุงูููุงุฑุณุงุช:
1. ุงุณุชุฎุฏู `deepClone` ุจุฏูุงู ูู `JSON.parse(JSON.stringify())`
2. ุงุณุชุฎุฏู `getByPath` ูููุตูู ุงูุขูู ููููู ุงููุชุฏุงุฎูุฉ
3. ุงุณุชุฎุฏู `search` ุจุฏูุงู ูู ุงูุชูุฑุงุฑ ุงููุฏูู
4. ุงุณุชุฎุฏู `compare` ูููุงุฑูุฉ ุงููุงุฆูุงุช ุงููุจูุฑุฉ

## ุงูุฃูุงู

### ุงูุญูุงูุฉ ุงููุฏูุฌุฉ:
- ุชูุธูู ุงูุจูุงูุงุช ุชููุงุฆูุงู
- ุญูุงูุฉ ูู ุงูุญูู
- ุงูุชุญูู ูู ุงูุตุญุฉ ูุจู ุงููุนุงูุฌุฉ
- ูุนุงูุฌุฉ ุขููุฉ ููุฃุฎุทุงุก

### ูุตุงุฆุญ ุงูุฃูุงู:
1. ุชุญูู ูู ุตุญุฉ JSON ูุจู ุงููุนุงูุฌุฉ
2. ุงุณุชุฎุฏู `validate` ููุชุญูู ูู ุงููุฎุทุท
3. ุชุฌูุจ ูุนุงูุฌุฉ ุจูุงูุงุช ุบูุฑ ููุซููุฉ ูุจุงุดุฑุฉ
4. ุงุณุชุฎุฏู `removeNullish` ูุชูุธูู ุงูุจูุงูุงุช

## ุงูุงุฎุชุจุงุฑุงุช

ุชู ุฅูุดุงุก ูุฌููุนุฉ ุดุงููุฉ ูู ุงูุงุฎุชุจุงุฑุงุช:

```bash
# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
npm test

# ุชุดุบูู ุงุฎุชุจุงุฑุงุช ูุญุฏุฏุฉ
npm test JsonProcessor.test.ts

# ุชุดุบูู ูุน ุงูุชุบุทูุฉ
npm test -- --coverage
```

### ุชุบุทูุฉ ุงูุงุฎุชุจุงุฑุงุช:
- โ ุฌููุน ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ
- โ ุญุงูุงุช ุงูุญุฏูุฏ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ุงูุฃุฏุงุก

## ุงูุชูุงูู ูุน ุงููุดุฑูุน

### ุงูุงุณุชูุฑุงุฏ ูู ุงูููููุงุช:

```typescript
// ุงุณุชูุฑุงุฏ ุงูููุชุจุฉ
import { JsonProcessor } from '@/lib/json';

// ุงุณุชูุฑุงุฏ ุงูููููุงุช
import { JsonViewer, JsonEditor, JsonDiff } from '@/components/json';

// ุงุณุชูุฑุงุฏ ุงูุฃููุงุน
import type { JsonStats, ComparisonResult } from '@/lib/json';
```

### ุงูุงุณุชุฎุฏุงู ูู API Routes:

```typescript
// pages/api/process-json.ts
import { JsonProcessor } from '@/lib/json/JsonProcessor';

export default function handler(req, res) {
    const data = req.body;
    const stats = JsonProcessor.calculateStats(data);
    res.json(stats);
}
```

## ุงูููุฒุงุช ุงููุณุชูุจููุฉ

### ููุฏ ุงูุชุทููุฑ:
- [ ] ุฏุนู JSON Schema ุงููุชูุฏู
- [ ] ุชุตุฏูุฑ ุฅูู XML
- [ ] ูุญุฑุฑ ูุฑุฆู ุจุงูุณุญุจ ูุงูุฅููุงุช
- [ ] ุฏุนู JSONPath
- [ ] ุชูุงูู ูุน ููุงุนุฏ ุงูุจูุงูุงุช
- [ ] API ูููุนุงูุฌุฉ ุงูุฌูุงุนูุฉ

### ุงูุชุญุณููุงุช ุงููุฎุทุทุฉ:
- [ ] ุชุญุณูู ุงูุฃุฏุงุก ูููููุงุช ุงูุถุฎูุฉ (>100MB)
- [ ] ุฏุนู ุงูุจุซ (Streaming)
- [ ] ุถุบุท ูุชูุฏู
- [ ] ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

## ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุงูููุงุฑุฏ:
- ๐ ุงูุชูุซูู ุงููุงูู: `/src/lib/json/README.md`
- ๐งช ุฃูุซูุฉ ุงูุงุฎุชุจุงุฑุงุช: `/src/lib/json/JsonProcessor.test.ts`
- ๐ป ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู: ูู ูุฐุง ุงูููู

### ุงููุดุงูู ุงูุดุงุฆุนุฉ:

**ูุดููุฉ: ุฎุทุฃ ูู ุงูุชุญููู**
```typescript
// โ ุฎุทุฃ
const data = JsonProcessor.flatten("not json");

// โ ุตุญูุญ
try {
    const parsed = JSON.parse(jsonString);
    const data = JsonProcessor.flatten(parsed);
} catch (error) {
    console.error('Invalid JSON');
}
```

**ูุดููุฉ: ูุณุงุฑ ุบูุฑ ููุฌูุฏ**
```typescript
// โ ูุฏ ูุณุจุจ ุฎุทุฃ
const value = data.user.profile.name;

// โ ุขูู
const value = JsonProcessor.getByPath(data, 'user.profile.name');
```

## ุงูุฎูุงุตุฉ

ุชู ุฅุถุงูุฉ ุฏุนู ุดุงูู ููุชูุฏู ููููุงุช JSON ูุชุถูู:

โ ููุชุจุฉ ูุนุงูุฌุฉ ูููุฉ ูุน 20+ ูุธููุฉ
โ 3 ููููุงุช React ุชูุงุนููุฉ
โ 2 ุตูุญุฉ ููุจ ูุงููุฉ
โ ุงุฎุชุจุงุฑุงุช ุดุงููุฉ
โ ุชูุซูู ููุตู
โ ุฃูุซูุฉ ุนูููุฉ

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู ููููุฑ ุฌููุน ุงูุฃุฏูุงุช ุงููุงุฒูุฉ ููุนุงูุฌุฉ ูุชุญููู ูููุงุช JSON ุจููุงุกุฉ ูุฃูุงู.
